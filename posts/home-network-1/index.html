<!DOCTYPE html>
<html lang="en-us">
    <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Home Network Upgrade: Part 1</title>
<link rel="stylesheet" href="/fonts.min.bbe9cf010678e1cb8590bd9976d849252c77677415ef3fa9db498d88e9fb9283.css" integrity="sha256-u&#43;nPAQZ44cuFkL2ZdthJJSx3Z3QV7z&#43;p20mNiOn7koM=">
<link rel="stylesheet" href="/main.min.76900fafe1d5d127b4f158cd3c4267f8c996986b3df50df9e0200bd2604987a9.css" integrity="sha256-dpAPr&#43;HV0Se08VjNPEJn&#43;MmWmGs99Q354CAL0mBJh6k=">
<link rel="stylesheet" href="/dark.min.d32436f771fa4508087219e4dae85f13aa994057f29514bd2f53eb7f8b79e79b.css" integrity="sha256-0yQ293H6RQgIchnk2uhfE6qZQFfylRS9L1Prf4t555s=">
<meta name="generator" content="Hugo 0.152.2">
        <link rel="icon" href="data:," />
        
          
          <meta property="og:type" content="article">
          <meta property="og:title" content="Home Network Upgrade: Part 1">
          <meta property="og:description"
                content=" üîç Important This post is part of a series. Also see part 2.
Background &amp; Goals I&rsquo;ve been wanting to upgrade my home network for a long time. I&rsquo;m severely limited in the types of cyber ‚Ä¶">
          <meta property="og:url" content="http://localhost:1313/posts/home-network-1/">
          
            
          
          <meta property="article:published_time"
                content="2025-12-22T00:00:00&#43;00:00">
          <meta property="article:modified_time"
                content="2025-12-22T00:00:00&#43;00:00">
          
            
              <meta property="article:tag" content="networking">
            
              <meta property="article:tag" content="projects">
            
          
        
    </head>
    <body>
      <a id="top"></a>
      <header>
  <nav class="navbar">
    <div class="navbar-icon"><ul class="navbar-icon">
    </ul></div>
    <ul class="navbar-text">
          <li class="navbar-text"><a href="/">Home</a></li>
          <li class="navbar-text"><a href="/posts/">Posts</a></li>
          <li class="navbar-text"><a href="/portfolio/">Portfolio</a></li>
          <li class="navbar-text"><a href="/about/">About</a></li>
          <li class="navbar-text"><a href="/contact/">Contact</a></li>
    </ul>
    <span class="navbar-filler"></span>
    <div class="container">
    <div class="toggle-container">
      <svg class="dark-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="#C5AD87"><path fill="#C5AD87" d="M12 21q-3.75 0-6.375-2.625T3 12q0-3.75 2.625-6.375T12 3q.35 0 .688.025t.662.075q-1.025.725-1.638 1.888T11.1 7.5q0 2.25 1.575 3.825T16.5 12.9q1.375 0 2.525-.613T20.9 10.65q.05.325.075.662T21 12q0 3.75-2.625 6.375T12 21Z"/></svg>
      <svg class="light-icon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="#57421E"><path fill="#57421E" d="M12 17q-2.075 0-3.538-1.463T7 12q0-2.075 1.463-3.538T12 7q2.075 0 3.538 1.463T17 12q0 2.075-1.463 3.538T12 17ZM2 13q-.425 0-.713-.288T1 12q0-.425.288-.713T2 11h2q.425 0 .713.288T5 12q0 .425-.288.713T4 13H2Zm18 0q-.425 0-.713-.288T19 12q0-.425.288-.713T20 11h2q.425 0 .713.288T23 12q0 .425-.288.713T22 13h-2Zm-8-8q-.425 0-.713-.288T11 4V2q0-.425.288-.713T12 1q.425 0 .713.288T13 2v2q0 .425-.288.713T12 5Zm0 18q-.425 0-.713-.288T11 22v-2q0-.425.288-.713T12 19q.425 0 .713.288T13 20v2q0 .425-.288.713T12 23ZM5.65 7.05L4.575 6q-.3-.275-.288-.7t.288-.725q.3-.3.725-.3t.7.3L7.05 5.65q.275.3.275.7t-.275.7q-.275.3-.687.288T5.65 7.05ZM18 19.425l-1.05-1.075q-.275-.3-.275-.713t.275-.687q.275-.3.688-.287t.712.287L19.425 18q.3.275.288.7t-.288.725q-.3.3-.725.3t-.7-.3ZM16.95 7.05q-.3-.275-.288-.687t.288-.713L18 4.575q.275-.3.7-.288t.725.288q.3.3.3.725t-.3.7L18.35 7.05q-.3.275-.7.275t-.7-.275ZM4.575 19.425q-.3-.3-.3-.725t.3-.7l1.075-1.05q.3-.275.712-.275t.688.275q.3.275.288.688t-.288.712L6 19.425q-.275.3-.7.288t-.725-.288Z"/>
      </svg>
      <input class="toggle-box" type="checkbox" aria-labal="Toggle dark/light theme.">
    </div>
</div>

<style>

 

.toggle-container {
  cursor: pointer;
  position: relative;
  width: 24px;
  height: 24px;
}

.toggle-box {
  position: absolute;
  inset: 0;
  opacity: 0;
  cursor: pointer;
}

 

.dark-icon {
  display: none;
}

 
  
</style>

<script>
    var body = document.body;
	var switcher = document.getElementsByClassName('toggle-box')[0];

	
	switcher.addEventListener("click", function() {
        this.classList.toggle('toggle-box--checked');
		
		if (this.classList.contains('toggle-box--checked')) {
			body.classList.add('dark-mode');
			
			localStorage.setItem('darkMode', 'true');
		} else {
			body.classList.remove('dark-mode');
			setTimeout(function() {
				localStorage.removeItem('darkMode');
			}, 100);
		}
	})

	
	if (localStorage.getItem('darkMode')) {
		
        switcher.classList.add('toggle-box--checked');
        body.classList.add('dark-mode');
	}

</script>

  </nav>
</header>


<main>
  <section class="post-open">
    <div class="post-open-title">
      <h1>Home Network Upgrade: Part 1</h1>
        <p><i>Published: Dec 22, 2025</i></p>
    </div>
    <div class="post-open-tags"><span>Tags:</span><a class="taglink" href="/tags/networking/"><kbd class="tag">networking</kbd></a><a class="taglink" href="/tags/projects/"><kbd class="tag">projects</kbd></a></div>
    <div class="post-open-quote"></div>
  </section>
  
    <aside class="toc">
      <nav class="toc-inner">
        <h1 class="toc-title">
          <a href="#top">Contents</a>
        </h1>
        <nav id="TableOfContents">
  <ul>
    <li><a href="#background--goals">Background &amp; Goals</a></li>
    <li><a href="#groundwork">Groundwork</a></li>
    <li><a href="#diy-router">DIY Router</a>
      <ul>
        <li><a href="#lenovo-thinkcentre-m715q">Lenovo ThinkCentre M715q</a></li>
        <li><a href="#custom-build-planning">Custom build planning</a></li>
      </ul>
    </li>
    <li><a href="#next-post">Next Post</a></li>
  </ul>
</nav>
      </nav>
    </aside>
  
  <section class="post-body">

<blockquote class="alert alert-important">
  <p class="alert-heading">
    üîç
    
      Important
    
  </p>
  <p>This post is part of a series. Also see <a href="/posts/home-network-2">part 2</a>.</p>
</blockquote>
<h2 id="background--goals">Background &amp; Goals</h2>
<p>I&rsquo;ve been wanting to upgrade my home network for a long time. I&rsquo;m severely limited in the types of cyber projects that I can engage with until I address this, so I thought that a home network upgrade had better be the first thing I complete after graduating. <em><strong>The existing setup is lacking in several areas:</strong></em></p>
<ul>
<li><strong>Old Network Devices</strong> - The physical devices that make the network function are old, staring to become unreliable, and simply do not support many of the features that I need.</li>
<li><strong>Basic Deployment</strong> - The network is configured such that everything shares the same network segment. Noisy and untrusted IoT devices mix with my personal devices.</li>
<li><strong>Poor Visibility</strong> - Beyond the <em>very basic</em> logging that the router does, I have nearly no awareness of what happens on the network and no viable way to set up network security monitoring (NSM) in the future.</li>
<li><strong>Inadequate Controls</strong> - As mentioned before, many of the controls that I need to harden the network are either poorly supported or completely unavailable for my current equipment.</li>
</ul>
<p>All of this boils down to one thing. Basically, <em><strong>I don&rsquo;t trust my current home network.</strong></em> This applies to both reliability and security, so I need a network that I can have more confidence in. <em><strong>Here are my major goals:</strong></em></p>
<ul>
<li><strong>Implement Segmentation</strong> - I want personal and/or trusted devices to be kept apart from other devices.</li>
<li><strong>Improve Wi-Fi Configuration</strong> - Ties into implementing segmentation. I want multiple access points (for better coverage) that can all broadcast different SSIDs (e.g., for trusted, IoT, and guest devices).</li>
<li><strong>Better Logging</strong> - I want more advanced logging to get a better idea of what&rsquo;s happening on the network. NSM solutions will be explored separately, as deploying one constitutes another project.</li>
<li><strong>Utilize Open Source and DIY Solutions</strong> - When it&rsquo;s possible and makes sense, I want to be able to turn to myself and the larger open source community to solve problems. This can also help save some costs, since most commercial solutions are outside of my budget at the moment. <em>Open source firmware for devices like switches and access points is currently out of scope, but I am considering this for the future.</em></li>
<li><strong>Support Future Projects</strong> - I want the network to be able to properly handle future projects without requiring major changes or experiencing any critical disruptions.</li>
</ul>
<h2 id="groundwork">Groundwork</h2>
<p>To start, I moved the existing modem and router from the living room to the basement and installed a new wall access point in their place. This required me to modify a Cat5e cable that I ran years ago to connect my computer lab in the basement to the (then-upstairs) router.</p>
<p>Instead of a single ~100ft cable run, we now have two ~50ft cable runs. One of the runs is for my lab, and the other is for the new access point. See the diagram below for a better idea of what I&rsquo;m talking about.</p>
<p>



  <link rel="stylesheet" href="/css/gallery.min.21e82505c4d19fa112badbea83c1ef264cbf4bd1cd63b2a6a9fc08ddca497857.css"
        integrity="sha256-IeglBcTRn6ESutvqg8HvJky/S9HNY7KmqfwI3cpJeFc="/>








  
  
    
  
    
  

  
  
    
  
    
  

  
  
    
  
    
  

  
  
    
  
    
  

  
  
    
  
    
  

  
  
    
  
    
  

  
  
    
  
    
  

  
  
    
  
    
  

  
  
    
      
    
  
    
  

  
  
    
  
    
  


<figure class="gallery-standalone gallery-maxwidth-90 gallery-center ">
  <input class="gallery-lightbox" type="checkbox"
         id="gallery-lightbox-input-1-1">
  <label for="gallery-lightbox-input-1-1" title="Close">

<picture class="gallery-image-primary">
      
      <img class="gallery-image-primary" src="cable-groundwork.webp" alt="" loading="lazy">
</picture>

  </label>

  
  <div id="gallery-1" class="gallery-lightbox-full">
    <label class="gallery-lightbox-full"
           for="gallery-lightbox-input-1-1" title="Close">

<picture class="gallery-lightbox-full">
      
      <img class="gallery-lightbox-full" src="cable-groundwork.webp" alt="" loading="lazy">
</picture>

    </label>
    <p class="gallery-lightbox-full">
      <a href="cable-groundwork.webp">Click to view full size image</a>
    </p>
  </div>
  <figcaption>A simplified diagram of the new physical network structure.</figcaption>
</figure>




</p>
<p>I won&rsquo;t lie, this was primarily done because my mom wanted most of the networking equipment to be moved somewhere other than the living room corner. However, this is also good for the rest of the project (not to mention future projects). I would have had to do this eventually, so it&rsquo;s best to get it out of the way now before I have much equipment to set up or manage.</p>
<p>Everything currently lives on a shelf with some other old computer stuff. I&rsquo;m planning to get a rack/enclosure at some point in the future after the project is done.</p>
<p>










  
  
    
  
    
  

  
  
    
  
    
  

  
  
    
  
    
  

  
  
    
  
    
  

  
  
    
  
    
  

  
  
    
  
    
  

  
  
    
  
    
  

  
  
    
  
    
  

  
  
    
      
    
  
    
  

  
  
    
  
    
  


<figure class="gallery-standalone gallery-maxwidth-90 gallery-center ">
  <input class="gallery-lightbox" type="checkbox"
         id="gallery-lightbox-input-2-2">
  <label for="gallery-lightbox-input-2-2" title="Close">

<picture class="gallery-image-primary">
      
      <img class="gallery-image-primary" src="shelf.avif" alt="" loading="lazy">
</picture>

  </label>

  
  <div id="gallery-2" class="gallery-lightbox-full">
    <label class="gallery-lightbox-full"
           for="gallery-lightbox-input-2-2" title="Close">

<picture class="gallery-lightbox-full">
      
      <img class="gallery-lightbox-full" src="shelf.avif" alt="" loading="lazy">
</picture>

    </label>
    <p class="gallery-lightbox-full">
      <a href="shelf.avif">Click to view full size image</a>
    </p>
  </div>
  <figcaption>A picture of the &ldquo;networking shelf&rdquo; after moving the old equipment to the basement.</figcaption>
</figure>




</p>
<p>Apart from another wireless access point or two that I&rsquo;ll be deploying in the future, this is about as far as my changes to the physical network go. Those access points haven&rsquo;t arrived yet and will not require new cable runs, so it isn&rsquo;t worth covering them more right now.</p>
<h2 id="diy-router">DIY Router</h2>
<p>With the groundwork done, I started working on a DIY router to replace the old one. Unfortunately, I ran into a lot of issues attempting to repurpose a mini PC for this task. I switched to a fully custom build, but I&rsquo;ll still be working on figuring out the mini PC in my spare time.</p>
<h3 id="lenovo-thinkcentre-m715q">Lenovo ThinkCentre M715q</h3>
<p>The <a href="https://www.lenovo.com/us/en/p/desktops/thinkcentre/m-series-tiny/thinkcentre-m715q-tiny/11tc1mt715q">M715q</a> only comes with one built-in wired network port, but we need <em>at least</em> two ports for LAN and WAN. This seemed easy at first because I just needed to add another port, and there&rsquo;s even a punch out on the back for this exact purpose!</p>
<p>










  
  
    
  
    
  

  
  
    
  
    
  

  
  
    
  
    
  

  
  
    
  
    
  

  
  
    
  
    
  

  
  
    
  
    
  

  
  
    
  
    
  

  
  
    
  
    
  

  
  
    
      
    
  
    
  

  
  
    
  
    
  


<figure class="gallery-standalone gallery-maxwidth-90 gallery-center ">
  <input class="gallery-lightbox" type="checkbox"
         id="gallery-lightbox-input-3-3">
  <label for="gallery-lightbox-input-3-3" title="Close">

<picture class="gallery-image-primary">
      
      <img class="gallery-image-primary" src="m715q.avif" alt="" loading="lazy">
</picture>

  </label>

  
  <div id="gallery-3" class="gallery-lightbox-full">
    <label class="gallery-lightbox-full"
           for="gallery-lightbox-input-3-3" title="Close">

<picture class="gallery-lightbox-full">
      
      <img class="gallery-lightbox-full" src="m715q.avif" alt="" loading="lazy">
</picture>

    </label>
    <p class="gallery-lightbox-full">
      <a href="m715q.avif">Click to view full size image</a>
    </p>
  </div>
  <figcaption>A picture of the M715q&rsquo;s I/O ports. Image credits to Lenovo.</figcaption>
</figure>




</p>
<p>Unfortunately, I was wrong. Installing the port itself was easy, but that&rsquo;s about where it ends.</p>
<p>I removed the preinstalled Wi-Fi card to replace it with a 2.5G NIC and powered the computer on. No matter what I did, the new interface would never get recognized. After spending weeks on fruitless troubleshooting, I figured that the card must be defective and ordered a replacement. The replacement had the same issue.</p>
<p>This was when I discovered that <strong>Lenovo actually controls which cards can be used in the M.2 Wi-Fi card slot. If your card isn&rsquo;t in the whitelist, it doesn&rsquo;t work.</strong> And guess what, none of my NICs are in the whitelist. Then I had a thought:</p>
<figure class="blockquote">
  <blockquote >
    <i><p>No problem. I have a cyber degree, I&rsquo;ll just hack it!</p>
</i>
  </blockquote></figure>
<p>I did some research and found out that the whitelist check isn&rsquo;t performed at all if you just set the serial number and model number both to the string <strong><code>INVALID</code></strong>. According to <a href="https://pcsupport.lenovo.com/us/en/products/desktops-and-all-in-ones/thinkcentre-m-series-desktops/m715q/solutions/ht501039-how-to-update-the-machine-type-and-model-mtm-system-serial-number-sn-or-system-brand-id-of-system-bios-menu-thinkcentre-thinkstation">online instructions from Lenovo</a>, the BIOS update flasher tool can be used to set these values. I attempted to do exactly that, but found out my device is write-protected when all methods failed.</p>
<p>Another option involves locating and reading the BIOS chip(s), finding and modifying the whitelist, and then flashing a new BIOS. This sounds easy enough, but the method is time-consuming and will have to wait until I get myself a chip reader. I considered buying one specifically for this project, but I honestly just wanted to be done fighting against Lenovo for a while and decided to save it until I find a better reason (I have a few hardware hacking projects in mind). I also tried a USB NIC that I had laying around and found that this did actually work, but it could only handle our Internet connection at about 1/4th the expected performance.</p>
<p>Without another appealing alternative, I decided to repurpose some old parts to create a custom build. I have a feeling that there&rsquo;s a different way around the write protection and/or the M.2 whitelist on the mini PC, so I&rsquo;ll be doing more research later.</p>
<h3 id="custom-build-planning">Custom build planning</h3>
<p>I decided to reuse the <a href="https://www.fractal-design.com/products/cases/node/node-202/">Fractal Design Node 202 case</a> that I had laying around from an <a href="https://pcpartpicker.com/b/jBHBD3">old compact gaming PC build</a> to make the new router. I needed a lot of new parts, though:</p>
<ul>
<li>Power supply unit (PSU)</li>
<li>Motherboard</li>
<li>Heatsink</li>
<li>Dual 2.5G NIC</li>
<li>3D-printed hard drive sled</li>
</ul>
<p>The Node 202 is definitely a small case by most people&rsquo;s standards. It&rsquo;s primarily targeted at small form factor (SFF) PC enthusiasts like myself or people looking to build something like a home theater PC for the living room.</p>
<p>When it comes to home routers, however, the Node 202 is massive. There&rsquo;s a lot of spare room in this case (no GPU for this build) and my <a href="https://pcpartpicker.com/user/Khada/saved/WhJBhM">hardware specs</a> are overkill for just a router, so I&rsquo;m planning to install <a href="https://www.proxmox.com/en/products/proxmox-virtual-environment/overview">Proxmox</a>. This way I can virtualize the router and dedicate the remaining resources to other VMs/containers, which avoids leaving most of the host machine&rsquo;s computing power on the table.</p>
<p>I also want to move some NAS drives from my PC to this new machine to free up space for a second GPU as part of a long-term PC revamp project.</p>
<p>










  
  
    
  
    
  

  
  
    
  
    
  

  
  
    
  
    
  

  
  
    
  
    
  

  
  
    
  
    
  

  
  
    
  
    
  

  
  
    
  
    
  

  
  
    
  
    
  

  
  
    
      
    
  
    
  

  
  
    
  
    
  


<figure class="gallery-standalone gallery-maxwidth-90 gallery-center ">
  <input class="gallery-lightbox" type="checkbox"
         id="gallery-lightbox-input-4-4">
  <label for="gallery-lightbox-input-4-4" title="Close">

<picture class="gallery-image-primary">
      
      <img class="gallery-image-primary" src="node202.avif" alt="" loading="lazy">
</picture>

  </label>

  
  <div id="gallery-4" class="gallery-lightbox-full">
    <label class="gallery-lightbox-full"
           for="gallery-lightbox-input-4-4" title="Close">

<picture class="gallery-lightbox-full">
      
      <img class="gallery-lightbox-full" src="node202.avif" alt="" loading="lazy">
</picture>

    </label>
    <p class="gallery-lightbox-full">
      <a href="node202.avif">Click to view full size image</a>
    </p>
  </div>
  <figcaption>Layout plan for the assembled machine. Ollie is very interested in the Noctua fan.</figcaption>
</figure>




</p>
<p>I&rsquo;m not 100% sold on the idea of virtualizing the router (I would prefer a dedicated machine to start), but I think that this is currently my best option to maximize hardware utilization and get the most bang for my buck.</p>
<h2 id="next-post">Next Post</h2>
<p>The <a href="/posts/home-network-2">next part of this project</a> will cover installing another access point, assembling the machine, installing Proxmox, and getting a VM/container ready for the virtualized router.</p>
</section>
  <section class="post-share">
<div class="social-share-container"></div>
</section>
</main>
      <footer>
        <p class='copyright'>
          Copyright &copy; Will Kittredge
        </p>
        <p class="copyright">
          Created with <a class='copyrightAccent' href='https://gohugo.io'>Hugo</a>,
          <a class='copyrightAccent' href='https://github.com/marcus0x62/tinyblog'>Tinyblog</a>, and
          <a class='copyrightAccent' href='https://github.com/marcus0x62/tinyimages'>Tinyimages</a>
        </p>
        <p class='copyrightAccent'>
        </p>
      </footer>
    </body>
</html>




  
  

  
    
      
      

      
      
    
  

  
    
    

  

  
    
      
      

    

    
    

    

    
      
        
        
      
    
  
    
    
  

  


